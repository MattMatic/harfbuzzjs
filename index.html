<p><a href="https://github.com/harfbuzz/harfbuzzjs">harfbuzzjs</a> demo. Supports font drag and drop.</p>
<p><input type="text" value="abc" id="text"></p>
<p>Result:<div id="result"></div></p>
<script src="harfbuzzjs.js"></script>
<script src="hbjs.js"></script> <!-- Wrapper, can be used without -->
<script>
var hb, fontBlob;
function updateResult() {
  var text = document.getElementById('text').value;
  var blob = hb.createBlob(fontBlob);
  var face = hb.createFace(blob, 0);
  var font = hb.createFont(face);
  font.setScale(1000, 1000); // Optional, if not given will be in font upem

  var buffer = hb.createBuffer();
  buffer.addText(text);
  buffer.guessSegmentProperties();
  // buffer.setDirection('ltr'); // optional as can be by guessSegmentProperties also
  buffer.shape(font); // features are not supported yet
  var result = buffer.json(font);

  buffer.free();
  font.free();
  face.free();
  blob.free();

  document.getElementById('result').innerText = JSON.stringify(result);
}

Module().then(function (module) {
  window.hb = hbjs(module);
  fetch('Roboto.abc.ttf').then(function (res) {
    return res.arrayBuffer();
  }).then(function (blob) { // can be used without our wrapper
    window.fontBlob = new Uint8Array(blob);
    updateResult();
  });
});

document.getElementById('text').addEventListener('keyup', function(e) {
  updateResult();
});

document.addEventListener('dragover', function (e) {
  e.stopPropagation(); e.preventDefault();
}, false);
document.addEventListener('dragleave', function (e) {
  e.stopPropagation(); e.preventDefault();
}, false);
document.addEventListener('drop', function (e) {
  e.stopPropagation(); e.preventDefault();
  handleFontUpdate(e.dataTransfer.files[0]);
});
// document.addEventListener('paste', function (e) {
//   handleFontUpdate(e.clipboardData.files[0]);
// });

function handleFontUpdate(file) {
  if (!file) return;
  var reader = new FileReader();
  reader.addEventListener("load", function () {
    window.fontBlob = new Uint8Array(reader.result);
    updateResult();
  });
  reader.readAsArrayBuffer(file);
}
</script>
